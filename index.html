<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Deep Space Float · Milky Way · 5 Planets</title>

  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>

  <style>
    html, body { margin:0; height:100%; width:100%; background:#000; overflow:hidden; }
    .hud {
      position: fixed;
      left: 14px;
      right: 14px;
      bottom: 14px;
      z-index: 10;
      display:flex;
      justify-content: space-between;
      align-items:flex-end;
      gap: 12px;
      pointer-events:none;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    }
    .hud .text {
      color: rgba(255,255,255,.85);
      text-shadow: 0 2px 12px rgba(0,0,0,.65);
      font-size: 14px;
      line-height: 1.25;
      max-width: 78%;
    }
    .hud .pill {
      pointer-events:none;
      color: rgba(255,255,255,.85);
      background: rgba(0,0,0,.35);
      border: 1px solid rgba(255,255,255,.18);
      backdrop-filter: blur(8px);
      padding: 10px 12px;
      border-radius: 14px;
      box-shadow: 0 10px 30px rgba(0,0,0,.35);
      font-weight: 600;
    }
    /* Hide A-Frame’s annoying “Enter VR” if it overlaps; we keep it default bottom-right */
    .a-enter-vr { bottom: 16px !important; right: 16px !important; }
  </style>
</head>

<body>
  <div class="hud">
    <div class="text">
      <div class="pill" style="display:inline-block; margin-bottom:8px;">
        Deep space float · Milky Way · 5 planets · nebula haze
      </div>
      <div>Move your phone / drag to look · Tap VR when ready</div>
    </div>
  </div>

  <a-scene
    renderer="colorManagement: true; physicallyCorrectLights: true; antialias: true"
    vr-mode-ui="enabled: true"
    loading-screen="enabled: false"
  >
    <a-assets timeout="20000">
      <!-- Planet textures (spherical mapping) -->
      <img id="texEarth"  src="earth_tex.jpg"  crossorigin="anonymous">
      <img id="texJupiter" src="jupiter_tex.jpg" crossorigin="anonymous">
      <img id="texSaturn" src="saturn_tex.jpg" crossorigin="anonymous">
      <img id="texUranus" src="uranus_tex.jpg" crossorigin="anonymous">
      <img id="texMoon"   src="moon_tex.jpg"   crossorigin="anonymous">

      <!-- We’ll set the sky src in JS (auto-picks the right filename) -->
      <img id="skyAuto" crossorigin="anonymous">
    </a-assets>

    <!-- Camera -->
    <a-entity position="0 1.6 0">
      <a-camera
        wasd-controls-enabled="false"
        look-controls="touchEnabled: true; mouseEnabled: true"
      ></a-camera>
    </a-entity>

    <!-- Soft light so planets look like planets (not stickers) -->
    <a-entity light="type: ambient; intensity: 0.55"></a-entity>
    <a-entity light="type: directional; intensity: 1.05; castShadow: false" position="6 8 3"></a-entity>

    <!-- Sky (360 background) -->
    <a-sky id="sky" radius="80"></a-sky>

    <!-- =========================
         PLANETS: spread around you
         Wrapper = axial tilt
         Inner sphere = spin
         ========================= -->

    <!-- Jupiter (front-right) -->
    <a-entity id="wrapJupiter" position="6 2.2 -7" rotation="3 0 -3">
      <a-sphere
        id="jupiter"
        radius="1.25"
        segments-width="64"
        segments-height="64"
        material="src:#texJupiter; roughness: 1.0; metalness: 0.0"
        animation="property: rotation; to: 0 360 0; loop: true; dur: 28000; easing: linear"
      ></a-sphere>
    </a-entity>

    <!-- Saturn (left-front) -->
    <a-entity id="wrapSaturn" position="-6.2 2.0 -7.6" rotation="0 0 26">
      <a-sphere
        id="saturn"
        radius="1.05"
        segments-width="64"
        segments-height="64"
        material="src:#texSaturn; roughness: 1.0; metalness: 0.0"
        animation="property: rotation; to: 0 360 0; loop: true; dur: 32000; easing: linear"
      ></a-sphere>

      <!-- Simple ring (no ring texture needed) -->
      <a-ring
        radius-inner="1.25"
        radius-outer="2.05"
        rotation="90 0 0"
        material="color: #d8c7aa; opacity: 0.45; transparent: true; roughness: 1.0; metalness: 0.0"
      ></a-ring>
    </a-entity>

    <!-- Earth (behind-right) -->
    <a-entity id="wrapEarth" position="7.5 1.9 5.5" rotation="0 0 23.5">
      <a-sphere
        id="earth"
        radius="0.95"
        segments-width="64"
        segments-height="64"
        material="src:#texEarth; roughness: 1.0; metalness: 0.0"
        animation="property: rotation; to: 0 360 0; loop: true; dur: 20000; easing: linear"
      ></a-sphere>
    </a-entity>

    <!-- Uranus (behind-left) -->
    <a-entity id="wrapUranus" position="-7.2 2.1 5.2" rotation="0 0 97">
      <a-sphere
        id="uranus"
        radius="0.9"
        segments-width="64"
        segments-height="64"
        material="src:#texUranus; roughness: 1.0; metalness: 0.0"
        animation="property: rotation; to: 0 360 0; loop: true; dur: 26000; easing: linear"
      ></a-sphere>
    </a-entity>

    <!-- Moon (straight up / overhead-ish so you look around) -->
    <a-entity id="wrapMoon" position="0 6.8 -0.5" rotation="0 0 6.7">
      <a-sphere
        id="moon"
        radius="0.55"
        segments-width="64"
        segments-height="64"
        material="src:#texMoon; roughness: 1.0; metalness: 0.0"
        animation="property: rotation; to: 0 360 0; loop: true; dur: 18000; easing: linear"
      ></a-sphere>
    </a-entity>

    <!-- Tiny star dust (optional vibe) -->
    <a-entity id="dust"></a-entity>

    <script>
      // Pick the correct sky filename automatically (you have two)
      (function pickSky() {
        const candidates = [
          "space-background-realistic-starry-night-cosmos-shining-stars-milky-way-stardust-color-galaxy.jpg",
          "space-background-realistic-starry-night-cosmos-shining-stars-milky-way-stardust-color-galaxy (1).jpg"
        ];

        const skyImg = document.getElementById("skyAuto");
        const sky = document.getElementById("sky");

        function tryNext(i) {
          if (i >= candidates.length) {
            // fallback to a dark gradient if neither exists
            sky.setAttribute("color", "#05020a");
            return;
          }
          const test = new Image();
          test.onload = () => {
            skyImg.src = candidates[i];
            sky.setAttribute("src", "#skyAuto");
          };
          test.onerror = () => tryNext(i + 1);
          test.src = candidates[i] + "?v=" + Date.now();
        }

        tryNext(0);
      })();

      // Sprinkle some subtle “stars” as tiny spheres (cheap + looks good on phones)
      (function addDust() {
        const dust = document.getElementById("dust");
        const count = 140;
        const rMin = 10, rMax = 28;

        function rand(min, max) { return Math.random() * (max - min) + min; }

        for (let i = 0; i < count; i++) {
          const a = rand(0, Math.PI * 2);
          const b = rand(-Math.PI / 2, Math.PI / 2);
          const r = rand(rMin, rMax);

          const x = Math.cos(b) * Math.cos(a) * r;
          const y = Math.sin(b) * r + 1.6;
          const z = Math.cos(b) * Math.sin(a) * r;

          const s = document.createElement("a-sphere");
          s.setAttribute("radius", rand(0.01, 0.03));
          s.setAttribute("position", `${x.toFixed(2)} ${y.toFixed(2)} ${z.toFixed(2)}`);
          s.setAttribute("material", "color: #ffffff; opacity: 0.75; transparent: true; roughness: 1.0; metalness: 0.0");
          dust.appendChild(s);
        }
      })();
    </script>
  </a-scene>
</body>
</html>
